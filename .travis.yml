language: cpp
sudo: required
matrix:
  include:
  - os: linux
    dist: trusty
    compiler: gcc
  - os: linux
    dist: trusty
    compiler: clang
  - os: osx
    osx_image: xcode9.2
    compiler: clang
  allow_failures:
  - os: osx

install:
  - sudo pip install --upgrade pip
  - sudo pip install codecov

script:
  - cmake CMakeLists.txt && make
  - cp cppstack unittest
  - coverage run unittest/UnitTest.py
 
after_success:
  - bash <(curl -s https://codecov.io/bash)
